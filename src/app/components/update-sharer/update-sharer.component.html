<div class="background" *ngIf="popupDisplayIn">
    <div class="popup">
        <button close (click)="close();cb1=true;cb2=false;">x</button>

        <h2 *ngIf="status === 'update' ">עדכון משתתף</h2>

        <!--       <div allChose>
                      <div chose>
    

                <button choseButton *ngIf="status === 'update'" cb1 [ngClass]="{cb1:studentUpdate.Sh_gender==1}"
                    (click)="cb1=true;cb2=false;studentUpdate.Sh_gender=1;generalWorkers();">בן</button>
                <button choseButton *ngIf="status === 'update'" cb2 [ngClass]="{cb2:studentUpdate.Sh_gender==2}"
                    (click)="cb2=true;cb1=false;studentUpdate.Sh_gender=2;generalWorkers();">בת</button>


            </div>

        </div> -->

        <br>
        <label gray>השדות המסומנים ב* הם שדות חובה</label>

        <h3 title1>פרטים אישיים</h3>
        <div contectAll>
            <div ca>
                <label>*שם פרטי</label>
                <!--                <input type="text" *ngIf="status === 'add'"
                    [ngClass]="{'borderInputGreen':Sh_name.length>0 && !validNane,'borderInputRed':validNane}"
                    (input)="onInputChangeN($event)"> -->
                <input type="text" *ngIf="status === 'update'" value="{{sharerUpdate.Sh_name}}"
                    [ngClass]="{'borderInputGreen':Sh_name.length>0 && !validNane,'borderInputRed':validNane}"
                    (input)="onInputChangeN($event)">
                <label eror *ngIf="validNane">מוגבל ל-20 תוים</label>
            </div>
            <div ca>
                <label>*שם משפחה</label>
                <input type="text" *ngIf="status === 'add'" (input)="onInputChangeNF($event)"
                    [ngClass]="{'borderInputGreen':Sh_Fname.length>0 && !validNameF,'borderInputRed':validNameF}">
                <input type="text" *ngIf="status === 'update'" value="{{sharerUpdate.Sh_Fname}}"
                    (input)="onInputChangeNF($event)"
                    [ngClass]="{'borderInputGreen':Sh_Fname.length>0 && !validNameF,'borderInputRed':validNameF}">
                <label eror *ngIf="validNameF">מוגבל ל-20 תוים</label>
            </div>
            <div ca>
                <label>*ת.ז</label>
                <input type="text" *ngIf="status === 'add'" (input)="onInputChangeID($event)"
                    [ngClass]="{'borderInputGreen':Sh_ID.length>0 && !validId,'borderInputRed':validId}">
                <input type="text" *ngIf="status === 'update'" value="{{sharerUpdate.Sh_ID}}"
                    (input)="onInputChangeID($event)"
                    [ngClass]="{'borderInputGreen':Sh_ID.length>0 && !validId,'borderInputRed':validId}">
                <label eror *ngIf="validId">הכנס ת.ז תקינה</label>
            </div>
            <div ca>
                <label>תאריך לידה</label>
                <input type="date" *ngIf="status === 'add'" (input)="onInputChangeBirthday($event)"
                    [ngClass]="{'borderInputGreen':Sh_birthday.length>0 && !validBirthday,'borderInputRed':validBirthday}">
                <input type="date" *ngIf="status === 'update'" [valueAsDate]="date(sharerUpdate.Sh_birthday)"
                    (input)="onInputChangeBirthday($event)"
                    [ngClass]="{'borderInputGreen':Sh_birthday.length>0 && !validBirthday,'borderInputRed':validBirthday}">
                <label eror *ngIf="validBirthday">הכנס תאריך תקין</label>
            </div>
        </div>
        <h3 title2>כתובת</h3>
        <div contectAll>
            <div ca>
                <label>עיר*</label>

                <select *ngIf="status === 'add'" (change)="onCitySelected($event)"
                    [ngClass]="{'borderInputGreen':Sh_city_code!=-1&&Sh_city_code!=-2 ,'borderInputRed':false}">
                    <option selected hidden>בחר</option>
                    <option *ngFor="let c of lisOfCities" [selected]="Sh_city_code==c.Ci_code" [value]="c.Ci_code">{{
                        c.Ci_name }}</option>
                    <option [value]="-2">הוסף עיר </option>

                </select>

                <select *ngIf="status === 'update'" (change)="onCitySelected($event)"
                    [ngClass]="{'borderInputGreen':Sh_city_code!=-1&&Sh_city_code!=-2 ,'borderInputRed':false}">
                    <option hidden>בחר</option>
                    <option *ngFor="let c of lisOfCities" [value]="c.Ci_code"
                        [selected]="Sh_city_code==c.Ci_code||c.Ci_code==sharerUpdate.Sh_city_code">{{ c.Ci_name }}
                    </option>
                    <option [value]="-2">הוסף עיר </option>

                </select>
            </div>
            <div ca addCity *ngIf="addCityStatus">

                <input type="text" placeholder="שם עיר" (input)="onInputCityName($event)">
                <label eror *ngIf="validCityName">טקסט ארוך מידי</label>

                <button (click)="addCity()">הוסף עיר</button>
            </div>
            <div ca>
                <label>רחוב ומס' בית</label>
                <input type="text" *ngIf="status === 'add'" (input)="onInputChangeAddress($event)"
                    [ngClass]="{'borderInputGreen':Sh_address.length>0 && !validAddress,'borderInputRed':validAddress}">
                <input type="text" *ngIf="status === 'update'" value="{{sharerUpdate.Sh_address}}"
                    (input)="onInputChangeAddress($event)"
                    [ngClass]="{'borderInputGreen':Sh_address.length>0 && !validAddress,'borderInputRed':validAddress}">
                <label eror *ngIf="validAddress">טקסט ארוך מידי</label>
            </div>
        </div>
        <h3 title3>פרטי יצירת קשר</h3>
        <div contectAll>
            <div ca>
                <label>*פלאפון פרטי</label>
                <input type="tel" *ngIf="status === 'add'" (input)="onInputChangeCellPhoneStudent($event)"
                    [ngClass]="{'borderInputGreen':Sh_cell_phone.length>0 && !validCellPhoneStudent,'borderInputRed':validCellPhoneStudent}">
                <input type="tel" *ngIf="status === 'update'" value="{{sharerUpdate.Sh_cell_phone}}"
                    (input)="onInputChangeCellPhoneStudent($event)"
                    [ngClass]="{'borderInputGreen':Sh_cell_phone.length>0 && !validCellPhoneStudent,'borderInputRed':validCellPhoneStudent}">
                <label eror *ngIf="validCellPhoneStudent">הכנס מס' תקין</label>
            </div>
            <div ca>
                <label>טלפון בית</label>
                <input type="tel" *ngIf="status === 'add'" (input)="onInputChangePhoneHome($event)"
                    [ngClass]="{'borderInputGreen':Sh_phone.length>0 && !validPhoneHome,'borderInputRed':validPhoneHome}">
                <input type="tel" *ngIf="status === 'update'" value="{{sharerUpdate.Sh_phone}}"
                    (input)="onInputChangePhoneHome($event)"
                    [ngClass]="{'borderInputGreen':Sh_phone.length>0 && !validPhoneHome,'borderInputRed':validPhoneHome}">
                <label eror *ngIf="validPhoneHome">הכנס מס' תקין</label>

            </div>

        </div>
        <h3 title4>פרטי משפחה</h3>



        <h4 parent>אבא:</h4>
        <div contectAll>
            <div ca>
                <label>*שם </label>
                <input type="text" *ngIf="status === 'add'" (input)="onInputChangeNameFather($event)"
                    [ngClass]="{'borderInputGreen':Pa_name_F.length>0 && !validNameFather,'borderInputRed':validNameFather}">
                <input type="text" *ngIf="status === 'update'" value="{{Parent.Pa_name}}"
                    (input)="onInputChangeNameFather($event)"
                    [ngClass]="{'borderInputGreen':Pa_name_F.length>0 && !validNameFather,'borderInputRed':validNameFather}">

                <label eror *ngIf="validNameFather">טקסט ארוך מהנדרש</label>

            </div>
            <div ca>
                <label>ת.ז </label>
                <input type="text" *ngIf="status === 'add'" (input)="onInputChangeIDFather($event)"
                    [ngClass]="{'borderInputGreen':Pa_ID_F.length>0 && !validIDFather,'borderInputRed':validIDFather}">
                <input type="text" *ngIf="status === 'update'" value="{{Parent.Pa_ID}}"
                    (input)="onInputChangeIDFather($event)"
                    [ngClass]="{'borderInputGreen':Pa_ID_F.length>0 && !validIDFather,'borderInputRed':validIDFather}">

                <label eror *ngIf="validIDFather">הכנס ת.ז תקינה</label>

            </div>
          
            <div ca>
                <label>*פלאפון </label>
                <input type="tel" *ngIf="status === 'add'" (input)="onInputChangeCellPhoneFather($event)"
                    [ngClass]="{'borderInputGreen':Pa_cell_phone_F.length>0 && !validCellPhoneFather,'borderInputRed':validCellPhoneFather}">
                <input type="tel" *ngIf="status === 'update'" value="{{Parent.Pa_cell_phone}}"
                    (input)="onInputChangeCellPhoneFather($event)"
                    [ngClass]="{'borderInputGreen':Pa_cell_phone_F.length>0 && !validCellPhoneFather,'borderInputRed':validCellPhoneFather}">
                <label eror *ngIf="validCellPhoneFather">הכנס מס' תקין</label>

            </div>
        </div>
        <h4 parent>אמא:</h4>
        <div contectAll>
            <div ca>
                <label>*שם </label>
                <input type="text" *ngIf="status === 'add'" (input)="onInputChangeNameMother($event)"
                    [ngClass]="{'borderInputGreen':Pa_name_M.length>0 && !validNameMother,'borderInputRed':validNameMother}">
                <input type="text" *ngIf="status === 'update'" value="{{Parent1.Pa_name}}"
                    (input)="onInputChangeNameMother($event)"
                    [ngClass]="{'borderInputGreen':Pa_name_M.length>0 && !validNameMother,'borderInputRed':validNameMother}">

                <label eror *ngIf="validNameMother">טקסט ארוך מהנדרש</label>

            </div>
            <div ca>
                <label>ת.ז </label>
                <input type="text" *ngIf="status === 'add'" (input)="onInputChangeIDMother($event)"
                    [ngClass]="{'borderInputGreen':Pa_ID_M.length>0 && !validIDMother,'borderInputRed':validIDMother}">
                <input type="text" *ngIf="status === 'update'" value="{{Parent1.Pa_ID}}"
                    (input)="onInputChangeIDMother($event)"
                    [ngClass]="{'borderInputGreen':Pa_ID_M.length>0 && !validIDMother,'borderInputRed':validIDMother}">

                <label eror *ngIf="validIDMother">הכנס ת.ז תקינה</label>

            </div>
          
            <div ca>
                <label>*פלאפון </label>
                <input type="tel" *ngIf="status === 'add'" (input)="onInputChangeCellPhoneMother($event)"
                    [ngClass]="{'borderInputGreen':Pa_cell_phone_M.length>0 && !validCellPhoneMother,'borderInputRed':validCellPhoneMother}">
                <input type="email" *ngIf="status === 'update'" value="{{Parent1.Pa_cell_phone}}"
                    (input)="onInputChangeCellPhoneMother($event)"
                    [ngClass]="{'borderInputGreen':Pa_cell_phone_M.length>0 && !validCellPhoneMother,'borderInputRed':validCellPhoneMother}">

                <label eror *ngIf="validCellPhoneMother">הכנס מס' תקין</label>

            </div>


        </div>
        <h3 title5>לימודים</h3>
        <div contectAll>
            <div ca>
                <label>מוסד לימודים נוכחי</label>
                <select *ngIf="cb1 && status === 'add'" (change)="onSFS_current_schoolSelected($event)"
                    [ngClass]="{'borderInputGreen':SFS_current_school.length>0 ,'borderInputRed':false}">
                    <option selected hidden>בחר </option>
                    <option>ישיבה גדולה</option>
                    <option>ישיבה קטנה</option>
                    <option>תלמוד תורה</option>
                </select>

                <select *ngIf="cb2 && status === 'add'" (change)="onSFS_current_schoolSelected($event)"
                    [ngClass]="{'borderInputGreen':SFS_current_school.length>0 ,'borderInputRed':false}">
                    <option selected hidden> בחר</option>
                    <option>סמינר (יג יד)</option>
                    <option>תיכון</option>
                    <option>בית ספר יסודי</option>
                </select>
                <select *ngIf="cb1 && status === 'update'" (change)="onSFS_current_schoolSelected($event)"
                    [ngClass]="{'borderInputGreen':SFS_current_school.length>0 ,'borderInputRed':false}">
                    <option hidden>בחר </option>
                    <option [selected]="StudiesForSharer.SFS_current_school==='ישיבה גדולה'">ישיבה גדולה </option>
                    <option [selected]="StudiesForSharer.SFS_current_school==='ישיבה קטנה'">ישיבה קטנה </option>
                    <option [selected]="StudiesForSharer.SFS_current_school==='תלמוד תורה'">תלמוד תורה </option>
                </select>

                <select *ngIf="cb2 && status === 'update'" (change)="onSFS_current_schoolSelected($event)"
                    [ngClass]="{'borderInputGreen':SFS_current_school.length>0 ,'borderInputRed':false}">
                    <option hidden> בחר</option>
                    <option [selected]="StudiesForSharer.SFS_current_school==='סמינר (יג יד)'">סמינר (יג יד)</option>
                    <option [selected]="StudiesForSharer.SFS_current_school==='תיכון'">תיכון</option>
                    <option [selected]="StudiesForSharer.SFS_current_school==='בית ספר יסודי'">בית ספר יסודי</option>
                </select>

            </div>
            <div ca>
                <label>שם המוסד</label>
                <input type="text" *ngIf="status === 'add'" (input)="onInputChangeCurrentSchoolName($event)"
                    [ngClass]="{'borderInputGreen':SFS_current_school_ame.length>0 && !validCurrentSchoolName,'borderInputRed':validCurrentSchoolName}">
                <input type="text" *ngIf="status === 'update'" value="{{StudiesForSharer.SFS_current_school_ame}}"
                    (input)="onInputChangeCurrentSchoolName($event)"
                    [ngClass]="{'borderInputGreen':SFS_current_school_ame.length>0 && !validCurrentSchoolName,'borderInputRed':validCurrentSchoolName}">

                <label eror *ngIf="validCurrentSchoolName">טקסט ארוך מהנדרש</label>
            </div>

            <div ca>
                <label *ngIf="cb1">שיעור/כיתה נוכחי (יש להכניס במבנה לדוג': כיתה ח / שיעור א/ שיעור א י.גדולה)</label>
                <label *ngIf="cb2">כיתה נוכחית (יש להכניס במבנה לדוג': כיתה יא)</label>

                <input type="text" *ngIf="status === 'add'" (input)="onInputChangeCurrentClass($event)"
                    [ngClass]="{'borderInputGreen':SFS_current_class.length>0 && !validCurrentClass,'borderInputRed':validCurrentClass}">
                <input type="text" *ngIf="status === 'update'" value="{{StudiesForSharer.SFS_current_class}}"
                    (input)="onInputChangeCurrentClass($event)"
                    [ngClass]="{'borderInputGreen':SFS_current_class.length>0 && !validCurrentClass,'borderInputRed':validCurrentClass}">

                <label eror *ngIf="validCurrentClass">טקסט ארוך מהנדרש</label>
            </div>

            <div ca>
                <label *ngIf="cb1">תלמוד תורה קודם</label>
                <label *ngIf="cb2">בית ספר קודם</label>
                <input type="text" *ngIf="status === 'add'" (input)="onInputChangePreviousSchool($event)"
                    [ngClass]="{'borderInputGreen':SFS_previous_school.length>0 && !validPreviousSchool,'borderInputRed':validPreviousSchool}">
                <input type="text" *ngIf="status === 'update'" value="{{StudiesForSharer.SFS_previous_school}}"
                    (input)="onInputChangePreviousSchool($event)"
                    [ngClass]="{'borderInputGreen':SFS_previous_school.length>0 && !validPreviousSchool,'borderInputRed':validPreviousSchool}">

                <label eror *ngIf="validPreviousSchool">טקסט ארוך מהנדרש</label>
            </div>


        </div>

        <h3 title7>עוד</h3>
        <div contectAll>
            <div ca>

                <label> מדריך</label>
                <select *ngIf="status === 'add'" (change)="onGuideSelected($event)">
                    <option selected hidden> בחר</option>
                    <option *ngFor="let g of listOfGuides" [value]="g.guide.GFP_code">{{g.guide.GFP_name }}</option>
                </select>
                <select *ngIf="status === 'update'" (change)="onGuideSelected($event)">
                    <option selected hidden> בחר</option>
                    <option *ngFor="let g of listOfGuides" [value]="g.guide.GFP_code"
                        [selected]="g.guide.GFP_code==sharerForProjectUpdate.SFP_code_guide">{{g.guide.GFP_name }}
                    </option>
                </select>
            </div>
            <div ca>

                <label>ישיבת בין הזמנים</label>
                <input type="text" *ngIf="status === 'add'" [ngClass]="{'borderInputRed':validNaneBeinHazmanim}"
                    (input)="onInputChangeNaneBeinHazmanim($event)">

                <input type="text" *ngIf="status === 'update'"
                    value="{{sharerForProjectUpdate.SFP_name_school_bein_hazmanim}}"
                    [ngClass]="{'borderInputRed':validNaneBeinHazmanim}"
                    (input)="onInputChangeNaneBeinHazmanim($event)">

                <label eror *ngIf="validNaneBeinHazmanim">מוגבל ל-40 תוים</label>
            </div>
            <div ca>

                <label>נוסח התפילה</label>
                <input type="text" *ngIf="status === 'add'" [ngClass]="{'borderInputRed':validNusahTfila}"
                    (input)="onInputChangeNusahTfila($event)">
                <input type="text" *ngIf="status === 'update'" value="{{ sharerUpdate.Sh_nusah_tfila}}"
                    [ngClass]="{'borderInputRed':validNusahTfila}" (input)="onInputChangeNusahTfila($event)">
                <label eror *ngIf="validNusahTfila">מוגבל ל-40 תוים</label>
            </div>
            <div ca>

                <label>"ושננתם"</label>
                <input type="text" *ngIf="status === 'add'" [ngClass]="{'borderInputRed':validVeshinantem}"
                    (input)="onInputChangeVeshinantem($event)">
                <input type="text" *ngIf="status === 'update'" value="{{sharerForProjectUpdate.SFP_veshinantem}}"
                    [ngClass]="{'borderInputRed':validVeshinantem}" (input)="onInputChangeVeshinantem($event)">
                <label eror *ngIf="validVeshinantem">מוגבל ל-40 תוים</label>

            </div>
            <br>
            <!--     <button *ngIf="status === 'add'" save (click)="add()">שמור</button>
 -->
            <button *ngIf="status === 'update'" save (click)="update()">עדכן</button>

            <app-loading-spinner *ngIf="loading"></app-loading-spinner>


        </div>

    </div>


    <!-- 
<select (change)="onCitySelected($event)">
    <option *ngFor="let c of cities" [value]="c.Ci_code">{{ c.Ci_name }}</option>
</select>
<div city>{{ selectedNameCity }}</div>
<div codeCity>{{ selectedcodeCity }}</div> -->